/* 
*  Name: vstabs 
*  Description: Tabs - AngularJS reusable UI component 
*  Version: 0.0.1 
*  Author: kekeh 
*  Homepage: http://kekeh.github.io/vstabs 
*  License: MIT 
*  Date: 2015-08-07 
*/ 
angular.module('template-vstabs-0.0.1.html', ['templates/vstabpage.html', 'templates/vstabs.html']);

angular.module("templates/vstabpage.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("templates/vstabpage.html",
    "<div ng-show=\"visible\" ng-transclude></div>");
}]);

angular.module("templates/vstabs.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("templates/vstabs.html",
    "<div class=\"vstabs\">\n" +
    "    <div class=\"vstabpages\">\n" +
    "        <div class=\"vstabpage\" ng-repeat=\"p in pages\" ng-style=\"{'width': 100/pages.length + '%'}\" ng-class=\"{vstabactive:p.visible}\" ng-click=\"tabClicked(p,$index)\" ng-keydown=\"keyDown($event,p,$index)\" tabindex=\"0\">{{p.title}}</div>\n" +
    "    </div>\n" +
    "    <div class=\"vstabcontent\" ng-transclude></div>\n" +
    "</div>");
}]);

angular.module("vstabs",["template-vstabs-0.0.1.html"]).directive("vstabs",function(){return{restrict:"EA",templateUrl:"templates/vstabs.html",transclude:!0,scope:{opt:"=options"},controller:["$scope",function(a){a.pages=[],a.selectedIdx=0,this.addTabPage=function(b){void 0!==a.opt.selectedIndex?b.visible=a.pages.length===a.opt.selectedIndex:b.visible=0===a.pages.length,a.pages.push(b)}}],link:function(a,b,c){function d(b,c){a.opt.pageChangedCb&&a.opt.pageChangedCb(b,c)}a.tabClicked=function(b,c){angular.forEach(a.pages,function(a){a.visible=!1}),b.visible=!0,c!==a.selectedIdx&&(d(a.selectedIdx,c),a.selectedIdx=c)},a.keyDown=function(b,c,d){13===b.which&&a.tabClicked(c,d)}}}}).directive("vstabpage",function(){return{require:"^vstabs",restrict:"E",transclude:!0,scope:{},link:function(a,b,c,d){a.title=void 0!==c.title?c.title:"",d.addTabPage(a)},templateUrl:"templates/vstabpage.html"}});